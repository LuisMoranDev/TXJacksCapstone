<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="css/home.css">
    
    <title>Profile</title>

</head>

<% 
function formatPhoneNumber(phoneNumberString) {
    var cleaned = ('' + phoneNumberString).replace(/\D/g, '')
    var match = cleaned.match(/^(\d{3})(\d{3})(\d{4})$/)
    if (match) {
      return '(' + match[1] + ') ' + match[2] + '-' + match[3]
    }
    return null
  }
  function formatDate(dateString) {
    var date = dateString.substr(0,2) + "/" + dateString.substr(2,2) + "/" + dateString.substr(4);
    return date
  }
  %>

<body>

    <div class="row">

        <div class="logo container col-2">
            <img src="../img/testing.webp" alt="logo">
            <div class="container sections prof-section">

                <ul class="links">
                    <li>Home</li>
                    <li>Employee</li>
                    <li>News & Events</li>
                    <li>About</li>
                    <li>Settings</li>
                </ul>

            </div>
        </div>

        <div class="container directory col">
            <h2 class="text-center">Employee Profile</h1>
                    <div class="card shadow col prof">
                        <div class="card-body profile">
                            <h5 class="card-title"><%= Employees.f_name + " " + Employees.l_name %></h5>
                            <p class="card-text">ID: <%= Employees.ID %> </p>
                            <p class="card-text">Nickname: <%= Employees.nickname %> </p>
                            <p class="card-text">Position: <%= Employees.def_pos %> </p>
                            <p class="card-text">Phone Number: <%= formatPhoneNumber(Employees.cell_num) %> </p>
                            <% if (Employees.hire_date !== "") { %>
                            <p class="card-text">Hire Date: <%=formatDate(Employees.hire_date)%> </p>
                            <% } %>
                            <p class="card-text">Email: <%= Employees.email %></p>
                            <% if (Employees.active) { %>
                            <p class="card-text">Employee is active</p>
                            <% } %>
                            <a href="/home" class="btn btn-primary">Back</a>
                        </div>
                    </div> 
                
            </div>
            
        </div>

      </div>
</body>
</html>